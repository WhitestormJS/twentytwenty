angular.module("tt",["ngTouch"]).directive("twentytwenty",["$window",function(t){return{restrict:"E",scope:{before:"@",after:"@",offset:"@",orientation:"@"},template:function(){return'<div class="twentytwenty-wrapper twentytwenty-{{orientation}}"><div class="twentytwenty-container" style="height:{{h}}px"><img class="twentytwenty-before" src="{{before}}" style="clip: rect(0px, {{x}}px, {{h}}px, 0px)"><img class="twentytwenty-after" src="{{after}}"><div class="twentytwenty-overlay"><div class="twentytwenty-before-label"></div><div class="twentytwenty-after-label"></div></div><div class="twentytwenty-handle" style="left:{{x}}px"><span class="twentytwenty-left-arrow"></span><span class="twentytwenty-right-arrow"></span></div></div></div>'},controller:["$scope","$swipe","$element",function(e,n,i){e.orientation=e.orientation||"horizontal",e.defaultOffsetPct=parseFloat(e.offset)||.5;var a=angular.element(i.find("img")[0]),o=function(t,n){e.h=t,e.x=n,e.$apply()},s=function(t){o(e.h,l(t))},r=!1,f=function(t){r||(r=!0,setTimeout(function(){s(t),r=!1},30))},l=function(t){return t.x-Math.abs(i[0].getBoundingClientRect().left)},c=function(){e.w=a[0].offsetWidth;var t=e.w*e.offset,n=a[0].offsetHeight;o(n,t)},w=function(){var t=a[0].offsetWidth,n=t/e.w*e.x,i=a[0].offsetHeight;e.w=t,o(i,n)};0===a[0].offsetHeight?a.bind("load",c):c(),n.bind(i,{start:s,move:f,end:s}),angular.element(t).bind("resize",function(){w(),e.$apply()})}]}}]);